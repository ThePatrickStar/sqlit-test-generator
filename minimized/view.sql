CREATE TABLE t1(a,b,c);
INSERT INTO t1 VALUES(1,2,3);
INSERT INTO t1 VALUES(4,5,6);
INSERT INTO t1 VALUES(7,8,9);
SELECT * FROM t1;
BEGIN;
CREATE VIEW IF NOT EXISTS v1 AS SELECT a,b FROM t1;
SELECT * FROM v1 ORDER BY a;
ROLLBACK;
SELECT * FROM v1 ORDER BY a;
CREATE VIEW v1 AS SELECT a,b FROM t1;
SELECT * FROM v1 ORDER BY a;
SELECT * FROM v1 ORDER BY a;
DROP VIEW IF EXISTS v1;
SELECT * FROM v1 ORDER BY a;
CREATE VIEW v1 AS SELECT a,b FROM t1;
SELECT * FROM v1 ORDER BY a;
DROP TABLE t1;
SELECT * FROM v1 ORDER BY a;
CREATE TABLE t1(x,a,b,c);
INSERT INTO t1 VALUES(1,2,3,4);
INSERT INTO t1 VALUES(4,5,6,7);
INSERT INTO t1 VALUES(7,8,9,10);
SELECT * FROM v1 ORDER BY a;
SELECT * FROM v1 ORDER BY a;
CREATE TABLE t9(x INTEGER);
CREATE VIEW v9a AS SELECT x FROM t9;
CREATE VIEW v9b AS SELECT * FROM t9;
CREATE VIEW v9c(x) AS SELECT x FROM t9;
CREATE VIEW v9d(x) AS SELECT * FROM t9;
PRAGMA table_info(v9a);
PRAGMA table_info(v9b);
PRAGMA table_info(v9c);
PRAGMA table_info(v9d);
CREATE VIEW v2 AS SELECT * FROM t1 WHERE a>5;
SELECT * FROM v2;
INSERT INTO v2 VALUES(1,2,3,4);
UPDATE v2 SET a=10 WHERE a=5;
DELETE FROM v2;
INSERT INTO t1 VALUES(11,12,13,14);
SELECT * FROM v2 ORDER BY x;
SELECT x FROM v2 WHERE a>10;
SELECT * FROM v1 LIMIT 1;
SELECT * FROM v2 LIMIT 1;
DROP VIEW v1;
CREATE VIEW v1 AS SELECT a AS 'xyz', b+c AS 'pqr', c-b FROM t1;
SELECT * FROM v1 LIMIT 1;
CREATE VIEW v1b AS SELECT t1.a, b+c, t1.c FROM t1;
SELECT * FROM v1b LIMIT 1;
CREATE VIEW v1c(x,y,z) AS SELECT a, b+c, c-b FROM t1;
SELECT * FROM v1c LIMIT 1;
CREATE VIEW v1err(x,y DESC,z) AS SELECT a, b+c, c-b FROM t1;
DROP VIEW IF EXISTS v1err;
CREATE VIEW v1err(x,y) AS SELECT a, b+c, c-b FROM t1;
SELECT * FROM v1err;
DROP VIEW IF EXISTS v1err;
CREATE VIEW v1err(w,x,y,z) AS SELECT a, b+c, c-b FROM t1;
SELECT * FROM v1err;
CREATE VIEW v3 AS SELECT a FROM t1 UNION SELECT b FROM t1 ORDER BY b;
SELECT * FROM v3 LIMIT 4;
CREATE VIEW v4 AS
SELECT a, b FROM t1
UNION
SELECT b AS 'x', a AS 'y' FROM t1
ORDER BY x, y;
SELECT b FROM v4 ORDER BY b LIMIT 4;
DROP VIEW t1;
SELECT 1 FROM t1 LIMIT 1;
DROP TABLE v1;
SELECT 1 FROM v1 LIMIT 1;
CREATE INDEX i1v1 ON v1(xyz);
CREATE TABLE t2(y,a);
INSERT INTO t2 VALUES(22,2);
INSERT INTO t2 VALUES(33,3);
INSERT INTO t2 VALUES(44,4);
INSERT INTO t2 VALUES(55,5);
SELECT * FROM t2;
CREATE VIEW v5 AS
SELECT t1.x AS v, t2.y AS w FROM t1 JOIN t2 USING(a);
SELECT * FROM v5;
EXPLAIN SELECT * FROM v5;
SELECT * FROM v5 AS a, t2 AS b WHERE a.w=b.y;
EXPLAIN SELECT * FROM v5 AS a, t2 AS b WHERE a.w=b.y;
SELECT * FROM t2 AS b, v5 AS a WHERE a.w=b.y;
EXPLAIN SELECT * FROM t2 AS b, v5 AS a WHERE a.w=b.y;
SELECT * FROM t1 AS a, v5 AS b, t2 AS c WHERE a.x=b.v AND b.w=c.y;
EXPLAIN SELECT * FROM t1 AS a, v5 AS b, t2 AS c WHERE a.x=b.v AND b.w=c.y;
SELECT min(x), min(a), min(b), min(c), min(a+b+c) FROM v2;
SELECT max(x), max(a), max(b), max(c), max(a+b+c) FROM v2;
CREATE TABLE test1(id integer primary key, a);
CREATE TABLE test2(id integer, b);
INSERT INTO test1 VALUES(1,2);
INSERT INTO test2 VALUES(1,3);
CREATE VIEW test AS
SELECT test1.id, a, b
FROM test1 JOIN test2 ON test2.id=test1.id;
SELECT * FROM test;
SELECT * FROM test;
DROP VIEW test;
CREATE VIEW test AS
SELECT test1.id, a, b
FROM test1 JOIN test2 USING(id);
SELECT * FROM test;
SELECT * FROM test;
DROP VIEW test;
CREATE VIEW test AS
SELECT test1.id, a, b
FROM test1 NATURAL JOIN test2;
SELECT * FROM test;
SELECT * FROM test;
CREATE VIEW v6 AS SELECT pqr, xyz FROM v1;
SELECT * FROM v6 ORDER BY xyz;
SELECT * FROM v6 ORDER BY xyz;
CREATE VIEW v7(a) AS SELECT pqr+xyz FROM v6;
SELECT * FROM v7 ORDER BY a;
CREATE VIEW v8 AS SELECT max(cnt) AS mx FROM;
SELECT * FROM v8;
SELECT mx+10, mx*2 FROM v8;
SELECT mx+10, pqr FROM v6, v8 WHERE xyz=2;
SELECT mx+10, pqr FROM v6, v8 WHERE xyz>2;
INSERT INTO t2 SELECT * FROM t2 WHERE a<5;
INSERT INTO t2 SELECT * FROM t2 WHERE a<4;
INSERT INTO t2 SELECT * FROM t2 WHERE a<3;
SELECT DISTINCT count(*) FROM t2 GROUP BY a ORDER BY 1;
SELECT DISTINCT count(*) FROM t2 GROUP BY a ORDER BY 1 LIMIT 3;
CREATE VIEW v9 AS
SELECT DISTINCT count(*) FROM t2 GROUP BY a ORDER BY 1 LIMIT 3;
SELECT * FROM v9;
SELECT * FROM v9 ORDER BY 1 DESC;
CREATE VIEW v10 AS
SELECT DISTINCT a, count(*) FROM t2 GROUP BY a ORDER BY 2 LIMIT 3;
SELECT * FROM v10;
SELECT * FROM v10 ORDER BY 1;
CREATE TABLE t3("9" integer, [4] text);
INSERT INTO t3 VALUES(1,2);
CREATE VIEW v_t3_a AS SELECT a.[9] FROM t3 AS a;
CREATE VIEW v_t3_b AS SELECT "4" FROM t3;
SELECT * FROM v_t3_a;
SELECT * FROM v_t3_b;
CREATE TABLE t4(a COLLATE NOCASE);
INSERT INTO t4 VALUES('This');
INSERT INTO t4 VALUES('this');
INSERT INTO t4 VALUES('THIS');
SELECT * FROM t4 WHERE a = 'THIS';
SELECT * FROM (SELECT * FROM t4) WHERE a = 'THIS';
CREATE VIEW v11 AS SELECT * FROM t4;
SELECT * FROM v11 WHERE a = 'THIS';
CREATE VIEW v12 AS SELECT a FROM t1 WHERE b=?;
CREATE VIEW v12(x) AS SELECT a FROM t1 WHERE b=?;
ATTACH 'test2.db' AS two;
CREATE TABLE two.t2(x,y);
CREATE VIEW v13 AS SELECT y FROM two.t2;
CREATE TEMP VIEW t1 AS SELECT a,b FROM t1;
SELECT * FROM temp.t1;
DROP VIEW IF EXISTS temp.t1;
CREATE TEMP VIEW t1(a,b) AS SELECT a,b FROM t1;
SELECT * FROM temp.t1;
CREATE VIEW v15 AS SELECT a AS x, b AS y FROM t1;
SELECT * FROM v15 LIMIT 1;
SELECT x, y FROM v15 LIMIT 1;
CREATE VIEW IF NOT EXISTS v1 AS SELECT * FROM t1;
SELECT sql FROM sqlite_master WHERE name='v1';
DROP VIEW IF EXISTS nosuchview;
DROP VIEW nosuchview;
DROP VIEW main.nosuchview;
DROP VIEW t1;
DROP TABLE t1;
CREATE TABLE t1(a, b, c);
INSERT INTO t1 VALUES(1, 2, 3);
INSERT INTO t1 VALUES(4, 5, 6);
CREATE VIEW vv1 AS SELECT * FROM t1;
CREATE VIEW vv2 AS SELECT * FROM vv1;
CREATE VIEW vv3 AS SELECT * FROM vv2;
CREATE VIEW vv4 AS SELECT * FROM vv3;
CREATE VIEW vv5 AS SELECT * FROM vv4;
SELECT * FROM vv5;
CREATE VIEW v3308a AS SELECT rowid, * FROM t1;
SELECT * FROM v3308a;
CREATE VIEW v3308b AS SELECT t1.rowid, t1.a, t1.b+t1.c FROM t1;
SELECT * FROM v3308b;
CREATE VIEW v3308c AS SELECT t1.oid, A, t1.b+t1.c AS x FROM t1;
SELECT * FROM v3308c;
DROP TABLE IF EXISTS t1;
DROP VIEW IF EXISTS v1;
CREATE TABLE t1(c1);
CREATE VIEW v1 AS SELECT c1 FROM (SELECT t1.c1 FROM t1);
CREATE TABLE t1(x);
INSERT INTO t1 VALUES(5);
CREATE VIEW v1 AS SELECT x*2 FROM t1;
CREATE VIEW v2 AS SELECT * FROM v1 UNION SELECT * FROM v1;
CREATE VIEW v4 AS SELECT * FROM v2 UNION SELECT * FROM v2;
CREATE VIEW v8 AS SELECT * FROM v4 UNION SELECT * FROM v4;
CREATE VIEW v16 AS SELECT * FROM v8 UNION SELECT * FROM v8;
CREATE VIEW v32 AS SELECT * FROM v16 UNION SELECT * FROM v16;
CREATE VIEW v64 AS SELECT * FROM v32 UNION SELECT * FROM v32;
CREATE VIEW v128 AS SELECT * FROM v64 UNION SELECT * FROM v64;
CREATE VIEW v256 AS SELECT * FROM v128 UNION SELECT * FROM v128;
CREATE VIEW v512 AS SELECT * FROM v256 UNION SELECT * FROM v256;
CREATE VIEW v1024 AS SELECT * FROM v512 UNION SELECT * FROM v512;
CREATE VIEW v2048 AS SELECT * FROM v1024 UNION SELECT * FROM v1024;
CREATE VIEW v4096 AS SELECT * FROM v2048 UNION SELECT * FROM v2048;
CREATE VIEW v8192 AS SELECT * FROM v4096 UNION SELECT * FROM v4096;
CREATE VIEW v16384 AS SELECT * FROM v8192 UNION SELECT * FROM v8192;
CREATE VIEW v32768 AS SELECT * FROM v16384 UNION SELECT * FROM v16384;
SELECT * FROM v32768 UNION SELECT * FROM v32768;
SELECT * FROM v32768;
CREATE VIEW x1 AS SELECT 123 AS '', 234 AS '', 345 AS '';
SELECT * FROM x1;
